<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="top.example.mapper.ProcessFlowMapper">


    <insert id="insert" parameterType="top.example.entity.ProcessFlow">
        insert into adm_process_flow(form_id,
                                     operator_id,
                                     action,
                                     result,
                                     reason,
                                     create_time,
                                     audit_time,
                                     order_no,
                                     state,
                                     is_last)
        values (#{pflow.formId},
                #{pflow.operatorId},
                #{pflow.action},
                #{pflow.result},
                #{pflow.reason},
                #{pflow.createTime},
                #{pflow.auditTime},
                #{pflow.orderNo},
                #{pflow.state},
                #{pflow.isLast})
    </insert>

    <update id="update" parameterType="top.example.entity.ProcessFlow">
        update adm_process_flow
        set form_id=#{flow.formId},
            operator_id=#{flow.operatorId},
            action=#{flow.action},
            result=#{flow.result},
            reason=#{flow.reason},
            create_time=#{flow.createTime},
            audit_time=#{flow.auditTime},
            order_no=#{flow.orderNo},
            state=#{flow.state},
            is_last=#{flow.isLast}
        where process_id = #{flow.processId}
    </update>


    <select id="selectByFormId" parameterType="long" resultType="top.example.entity.ProcessFlow">
        select *
        from adm_process_flow
        where form_id = #{id}
        order by order_no
    </select>

</mapper>